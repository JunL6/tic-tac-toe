{"ast":null,"code":"import _classCallCheck from \"/Users/Jun/Documents/FE/tic-tac-toe/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Jun/Documents/FE/tic-tac-toe/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Jun/Documents/FE/tic-tac-toe/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Jun/Documents/FE/tic-tac-toe/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Jun/Documents/FE/tic-tac-toe/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Jun/Documents/FE/tic-tac-toe/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Jun/Documents/FE/tic-tac-toe/tic-tac-toe/src/game.js\";\nimport React, { Component } from \"react\";\nimport determineWinner from \"./determineWinner\";\nimport Board from \"./board\";\n\nvar Game =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Game, _Component);\n\n  function Game(props) {\n    var _this;\n\n    _classCallCheck(this, Game);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Game).call(this, props));\n    _this.state = {\n      history: [Array(9).fill(null)],\n      stepNumber: 0,\n      xIsNext: true,\n      isGameOver: false\n    };\n    /* bind functions that mutate the state */\n\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.jumpTo = _this.jumpTo.bind(_assertThisInitialized(_assertThisInitialized(_this))); //this function is modifying the state\n\n    return _this;\n  }\n\n  _createClass(Game, [{\n    key: \"renderHistory\",\n    value: function renderHistory(historyArray) {\n      var _this2 = this;\n\n      return historyArray.map(function (value, index) {\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this2.jumpTo(index);\n\n            console.log(\"jump to \", index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, \"Go to move #$\", index));\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      /* get square id from className from event.target */\n      var className = event.target.className;\n      var i = className.slice(className.indexOf(\"squareID-\") + 9);\n      /* get squares before click */\n\n      var squares = this.state.history[this.state.stepNumber].slice();\n      /* determine if the square was already filled */\n\n      if (this.state.isGameOver) {\n        alert(\"Game over\");\n      } else if (squares[i] === null) {\n        /* determine who is next */\n        squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n        /* determine who is the winner if there is one */\n\n        var winner = determineWinner(squares); //   /* test */\n        //   console.log(squares[i]);\n        //   console.log(winner);\n        //   debugger;\n\n        /* new history state */\n\n        var newHistory = this.state.history.slice(0, this.state.stepNumber + 1);\n        newHistory.push(squares);\n        this.setState({\n          history: newHistory,\n          stepNumber: this.state.stepNumber + 1,\n          xIsNext: !this.state.xIsNext,\n          isGameOver: Boolean(winner)\n        });\n      } else {\n        alert(\"this spot was filled already\");\n      }\n    }\n  }, {\n    key: \"jumpTo\",\n    value: function jumpTo(stepNum) {\n      this.setState({\n        stepNumber: stepNum\n      });\n      console.log(\"here\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var squareToRender = this.state.history[this.state.history.length - 1];\n      return React.createElement(\"div\", {\n        className: \"game\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"game-board\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Board, {\n        squareToRender: squareToRender,\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"game-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"history\"), React.createElement(\"ol\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.renderHistory(this.state.history))));\n    }\n  }]);\n\n  return Game;\n}(Component);\n\nexport { Game as default };","map":{"version":3,"sources":["/Users/Jun/Documents/FE/tic-tac-toe/tic-tac-toe/src/game.js"],"names":["React","Component","determineWinner","Board","Game","props","state","history","Array","fill","stepNumber","xIsNext","isGameOver","handleClick","bind","jumpTo","historyArray","map","value","index","console","log","event","className","target","i","slice","indexOf","squares","alert","winner","newHistory","push","setState","Boolean","stepNum","squareToRender","length","renderHistory"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport determineWinner from \"./determineWinner\";\nimport Board from \"./board\";\n\nexport default class Game extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [Array(9).fill(null)],\n      stepNumber: 0,\n      xIsNext: true,\n      isGameOver: false\n    };\n\n    /* bind functions that mutate the state */\n    this.handleClick = this.handleClick.bind(this);\n    this.jumpTo = this.jumpTo.bind(this); //this function is modifying the state\n  }\n\n  renderHistory(historyArray) {\n    return historyArray.map((value, index) => {\n      return (\n        <li key={index}>\n          <button\n            onClick={() => {\n              this.jumpTo(index);\n              console.log(\"jump to \", index);\n            }}\n          >\n            Go to move #$\n            {index}\n          </button>\n        </li>\n      );\n    });\n  }\n\n  handleClick(event) {\n    /* get square id from className from event.target */\n    const className = event.target.className;\n    const i = className.slice(className.indexOf(\"squareID-\") + 9);\n    /* get squares before click */\n    const squares = this.state.history[this.state.stepNumber].slice();\n\n    /* determine if the square was already filled */\n    if (this.state.isGameOver) {\n      alert(\"Game over\");\n    } else if (squares[i] === null) {\n      /* determine who is next */\n      squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n      /* determine who is the winner if there is one */\n      const winner = determineWinner(squares);\n\n      //   /* test */\n      //   console.log(squares[i]);\n      //   console.log(winner);\n      //   debugger;\n\n      /* new history state */\n      const newHistory = this.state.history.slice(0, this.state.stepNumber + 1);\n      newHistory.push(squares);\n\n      this.setState({\n        history: newHistory,\n        stepNumber: this.state.stepNumber + 1,\n        xIsNext: !this.state.xIsNext,\n        isGameOver: Boolean(winner)\n      });\n    } else {\n      alert(\"this spot was filled already\");\n    }\n  }\n\n  jumpTo(stepNum) {\n    this.setState({ stepNumber: stepNum });\n    console.log(\"here\");\n  }\n\n  render() {\n    const squareToRender = this.state.history[this.state.history.length - 1];\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board squareToRender={squareToRender} onClick={this.handleClick} />\n        </div>\n        <div className=\"game-info\">\n          <div>history</div>\n          <ol>{this.renderHistory(this.state.history)}</ol>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}